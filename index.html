<script>
let idade = 0;
let felicidade = 50;
let fama = 0;
let saude = 50;
let respeito = 10;

function atualizarBarras() {
  document.getElementById("idade").innerText = idade;
  document.getElementById("felicidade").style.width = felicidade + "%";
  document.getElementById("felicidade").innerText = felicidade + "%";
  document.getElementById("fama").style.width = fama + "%";
  document.getElementById("fama").innerText = fama + "%";
  document.getElementById("saude").style.width = saude + "%";
  document.getElementById("saude").innerText = saude + "%";
  document.getElementById("respeito").style.width = respeito + "%";
  document.getElementById("respeito").innerText = respeito + "%";
}

function envelhecer() {
  idade++;
  felicidade = Math.min(100, Math.max(0, felicidade + Math.floor(Math.random()*5-2)));
  saude = Math.min(100, Math.max(0, saude + Math.floor(Math.random()*3-1)));
  fama = Math.min(100, Math.max(0, fama + Math.floor(Math.random()*4)));
  respeito = Math.min(100, Math.max(0, respeito + Math.floor(Math.random()*3)));
  atualizarBarras();
}

atualizarBarras();

function mostrar(abaId) {
  document.querySelectorAll('.aba').forEach(aba => aba.style.display = 'none');
  document.getElementById(abaId).style.display = 'block';
}

// üîπ Redes sociais autom√°ticas
const perfisSimulados = [
  {nome: "AnaLima", avatar: "#f54242"},
  {nome: "LeoRibeiro", avatar: "#42f5b3"},
  {nome: "CarlosX", avatar: "#4287f5"},
  {nome: "Mari_S", avatar: "#f5e642"}
];

function criarPost(feed, texto, file=null) {
  const post = document.createElement("div");
  post.className = "post";
  
  const perfil = perfisSimulados[Math.floor(Math.random()*perfisSimulados.length)];
  
  let imgHTML = "";
  if(file){
    const reader = new FileReader();
    reader.onload = function(e){
      imgHTML = `<img src="${e.target.result}" style="max-width:100%; border-radius:10px;">`;
      atualizarPost(post, texto, perfil, imgHTML);
    };
    reader.readAsDataURL(file);
  } else {
    atualizarPost(post, texto, perfil, imgHTML);
  }

  feed.prepend(post);
}

function atualizarPost(post, texto, perfil, imgHTML){
  post.innerHTML = `
    <div class="post-header">
      <div class="avatar" style="background:${perfil.avatar}"></div>
      <strong>${perfil.nome}</strong>
    </div>
    <p>${texto.replace(/#(\w+)/g, '<span class="hashtag">#$1</span>')}</p>
    ${imgHTML}
    <div class="acoes">
      <button onclick="curtir(this)">Curtir</button> <span>0</span> curtidas
      <button onclick="comentar(this)">Comentar</button>
    </div>
  `;
}

function postarTweet() {
  const input = document.getElementById("tweetInput");
  const imgInput = document.getElementById("tweetImg");
  if(!input.value.trim() && imgInput.files.length === 0) return;
  criarPost(document.getElementById("feedTwitter"), input.value, imgInput.files[0]);
  input.value = "";
  imgInput.value = "";
}

function postarInsta() {
  const input = document.getElementById("instaInput");
  const imgInput = document.getElementById("instaImg");
  if(!input.value.trim() && imgInput.files.length === 0) return;
  criarPost(document.getElementById("feedInsta"), input.value, imgInput.files[0]);
  input.value = "";
  imgInput.value = "";
}

function curtir(btn) {
  const span = btn.nextElementSibling;
  let count = parseInt(span.innerText);
  span.innerText = count+1;
}

function comentar(btn) {
  const comentario = prompt("Escreva seu coment√°rio:");
  if(!comentario) return;
  const p = document.createElement("p");
  p.className = "comentario";
  p.textContent = comentario;
  btn.parentElement.parentElement.appendChild(p);
}

// üîπ Postagens autom√°ticas
const tweetsAutom = [
  "Hoje fui gravar meu novo single! üé∂ #musica",
  "Que dia incr√≠vel! #vida #fama",
  "Ensaiando muito para meu pr√≥ximo show!",
  "Recebendo mensagens dos f√£s, amo voc√™s! üíñ #fanlove"
];

const instaAutom = [
  "Foto do est√∫dio de grava√ß√£o üé§ #musica",
  "Making of do meu novo clipe üé¨ #ator #cantor",
  "Momento relax üçπ #vida",
  "Treino intenso de dan√ßa üíÉ #preparacao"
];

function postsAutomaticos() {
  criarPost(document.getElementById("feedTwitter"), tweetsAutom[Math.floor(Math.random()*tweetsAutom.length)]);
  criarPost(document.getElementById("feedInsta"), instaAutom[Math.floor(Math.random()*instaAutom.length)]);
}

// Posta automaticamente a cada 5 segundos
setInterval(postsAutomaticos, 5000);
                                        </script>
